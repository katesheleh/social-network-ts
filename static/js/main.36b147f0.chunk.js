(this["webpackJsonpsocial-network-ts"]=this["webpackJsonpsocial-network-ts"]||[]).push([[0],{12:function(e,t,n){e.exports={nav:"Nav_nav__iSu1L",link:"Nav_link__1EeNV",activeLink:"Nav_activeLink__sJO7m"}},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(39),r=n(5),o=n(19),i={dialogs:[{id:Object(o.a)(),name:"Jain"},{id:Object(o.a)(),name:"Nick"},{id:Object(o.a)(),name:"Alex"}],messages:[{id:Object(o.a)(),message:"Hi! How are you?"},{id:Object(o.a)(),message:"I am fine! And you?"},{id:Object(o.a)(),message:"Me too. Have a nice day!"},{id:Object(o.a)(),message:":)"}]},c=function(e){return{type:"ADD_MESSAGE",newMessageBody:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[{id:Object(o.a)(),message:t.newMessageBody}])});default:return e}}},128:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return f}));var a=n(39),r=n(5),o=n(17),i={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},c=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},s=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},l=function(e,t){return{type:"TOGGLE_FOLLOWING_PROGRESS",isFetching:e,userId:t}},u=function(e,t){return function(n){n(s(!0)),n(c(e)),o.d.getUsers(e,t).then((function(e){n(s(!1)),n({type:"SET_USERS",users:e.items}),n({type:"SET_TOTAL_COUNT",totalCount:e.totalCount})}))}},m=function(e){return function(t){t(l(!0,+e)),o.b.followUser(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(l(!1,+e))}))}},f=function(e){return function(t){t(l(!0,+e)),o.b.unfollowUser(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(l(!1,+e))}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!1}):e}))});case"SET_USERS":return Object(r.a)(Object(r.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_COUNT":return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.totalCount});case"TOGGLE_IS_FETCHING":return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_FOLLOWING_PROGRESS":return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(a.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},132:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__szsVy"}},133:function(e,t,n){e.exports=n.p+"static/media/profile.6be79ee3.jpg"},134:function(e,t,n){e.exports=n.p+"static/media/dialogs.6fe6dff8.jpg"},135:function(e,t,n){e.exports=n.p+"static/media/news.de3167ce.jpg"},136:function(e,t,n){e.exports=n.p+"static/media/music.3e4441df.jpg"},137:function(e,t,n){e.exports=n.p+"static/media/friends.50d16565.jpg"},138:function(e,t,n){e.exports={banner:"Banner_banner__1k-f_"}},142:function(e,t,n){e.exports={socialLinks:"SocialLinks_socialLinks__3351c"}},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},147:function(e,t,n){e.exports=n.p+"static/media/loader.5613c226.svg"},15:function(e,t,n){e.exports={textarea:"FormControls_textarea__2khi6",inputText:"FormControls_inputText__2i6OY",formControl:"FormControls_formControl__228TG",error:"FormControls_error__10mmX",errorMsg:"FormControls_errorMsg__2Nkxe"}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s}));var a=n(141),r=n.n(a).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"a996de67-bf16-42aa-ac25-992dabb5f211"}}),o={me:function(){return r.get("/auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},logout:function(){return r.delete("/auth/login").then((function(e){return e.data}))}},i={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("/users?page=".concat(e,"&count=").concat(t,"&sortOrder=asc")).then((function(e){return e.data}))}},c={getUser:function(e){return r.get("/profile/".concat(e))},getStatus:function(e){return r.get("/profile/status/".concat(e))},updateStatus:function(e){return r.put("/profile/status",{status:e})}},s={unfollowUser:function(e){return r.delete("/follow/".concat(e))},followUser:function(e){return r.post("/follow/".concat(e))}}},176:function(e,t,n){e.exports=n(300)},181:function(e,t,n){},23:function(e,t,n){e.exports={formRow:"LoginForm_formRow__37ixz",button:"LoginForm_button__2GMZF",errorMsg:"LoginForm_errorMsg__1e8_g"}},300:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(0),r=n.n(a),o=n(65),i=n.n(o),c=(n(181),n(52)),s=n(53),l=n(55),u=n(54),m=n(33),f=n.n(m),d=n(28),p=n(132),g=n.n(p),b=n(133),E=n.n(b),h=n(134),_=n.n(h),v=n(135),O=n.n(v),N=n(136),j=n.n(N),w=n(137),k=n.n(w),S=n(138),L=n.n(S),y=function(e){return r.a.createElement("div",{className:L.a.banner},r.a.createElement("img",{src:e.image,alt:e.title}))},C=n(12),T=n.n(C),A=n(10),x=function(){return r.a.createElement("nav",{className:T.a.nav},r.a.createElement(A.b,{to:"/profile",className:T.a.link,activeClassName:T.a.activeLink},"Profile"),r.a.createElement(A.b,{to:"/dialogs",className:T.a.link,activeClassName:T.a.activeLink},"Dialogs"),r.a.createElement(A.b,{to:"/users",className:T.a.link,activeClassName:T.a.activeLink},"Users"),r.a.createElement(A.b,{to:"/news",className:T.a.link,activeClassName:T.a.activeLink},"News"),r.a.createElement(A.b,{to:"/music",className:T.a.link,activeClassName:T.a.activeLink},"Music"),r.a.createElement(A.b,{to:"/friends",className:T.a.link,activeClassName:T.a.activeLink},"Friends"))},F=n(41),I=n.n(F),M=function(e){return r.a.createElement("header",{className:I.a.header},r.a.createElement("h3",{className:I.a.title},"Social Network ",r.a.createElement("span",null,"by Katia Sheleh")),r.a.createElement("div",{className:I.a.loginBlock},e.isAuth?r.a.createElement("div",null,"Hello, ",e.login,"! ",r.a.createElement("br",null),r.a.createElement("span",{onClick:e.logout,className:I.a.logout},"Logout")):r.a.createElement(A.b,{className:I.a.loginLink,to:"/login"},"Login")))},P=n(16),U=n(5),R=n(17),G=n(40),D=n(56),z={userId:null,email:null,login:null,isAuth:!1},H=function(e,t,n,a){return{type:"SET_USER_DATA",data:{userId:e,email:t,login:n,isAuth:a}}},B=function(){return function(e){return R.a.me().then((function(t){if(t.resultCode===G.a.success){var n=t.data,a=n.id,r=n.login,o=n.email;e(H(a,o,r,!0))}}))}},W=function(){return function(e){R.a.logout().then((function(t){t.resultCode===G.a.success&&e(H(null,null,null,!1))}))}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(U.a)(Object(U.a)({},e),t.data);default:return e}},Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(M,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout})}}]),n}(r.a.Component),q=Object(P.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:W})(Y),K=function(){return r.a.createElement("div",{className:g.a.sidebar},r.a.createElement(d.b,{path:"/profile",render:function(){return r.a.createElement(y,{image:E.a,title:"Profile"})}}),r.a.createElement(d.b,{path:"/dialogs",render:function(){return r.a.createElement(y,{image:_.a,title:"Dialogs"})}}),r.a.createElement(d.b,{path:"/news",render:function(){return r.a.createElement(y,{image:O.a,title:"News"})}}),r.a.createElement(d.b,{path:"/music",render:function(){return r.a.createElement(y,{image:j.a,title:"Music"})}}),r.a.createElement(d.b,{path:"/friends",render:function(){return r.a.createElement(y,{image:k.a,title:"Friends"})}}),r.a.createElement(q,null),r.a.createElement(x,null))},Q=n(89),X=n.n(Q),Z=n(142),V=n.n(Z),$=n(90),ee=n.n($),te=function(e){var t=e.link,n=e.title;return r.a.createElement("div",{className:ee.a.socialLink},r.a.createElement("a",{className:ee.a.link,href:t,target:"_blank",rel:"noopener noreferrer"},n))},ne=function(){return r.a.createElement("section",{className:V.a.socialLinks},r.a.createElement(te,{link:"https://www.linkedin.com/in/katesheleh/",title:"Linkedin"}),r.a.createElement(te,{link:"https://github.com/katesheleh",title:"Github"}),r.a.createElement(te,{link:"https://www.instagram.com/katesheleh/",title:"Instagram"}))},ae=function(){return r.a.createElement("div",{className:X.a.footer},r.a.createElement(ne,null),r.a.createElement("p",{className:X.a.copyright},"\xa9 created by Katia Sheleh"))},re=n(143),oe=n.n(re),ie=function(){return r.a.createElement("div",{className:oe.a.news},r.a.createElement("h1",null,"News"))},ce=n(144),se=n.n(ce),le=function(){return r.a.createElement("div",{className:se.a.music},r.a.createElement("h1",null,"Music"))},ue=n(145),me=n.n(ue),fe=function(){return r.a.createElement("div",{className:me.a.friends},r.a.createElement("h1",null,"Friends"))},de=n(91),pe=n.n(de),ge=n(23),be=n.n(ge),Ee=n(129),he=n(130),_e=n(72),ve=n(66),Oe=Object(ve.a)(30),Ne=Object(he.a)({form:"login"})((function(e){return r.a.createElement("form",{className:be.a.form,onSubmit:e.handleSubmit},e.error&&r.a.createElement("p",{className:be.a.errorMsg},e.error),r.a.createElement("div",{className:be.a.formRow},r.a.createElement("label",{htmlFor:"login_login"},"Login"),r.a.createElement(Ee.a,{component:_e.a,validate:[ve.b,Oe],name:"email",placeholder:"email",id:"login_email"})),r.a.createElement("div",{className:be.a.formRow},r.a.createElement("label",{htmlFor:"login_psw"},"Password"),r.a.createElement(Ee.a,{component:_e.b,validate:[ve.b,Oe],name:"password",placeholder:"Password",id:"login_psw"})),r.a.createElement("div",{className:be.a.formRow},r.a.createElement(Ee.a,{component:"input",name:"rememberMe",type:"checkbox",id:"login_rememberMe",className:be.a.inputCheckbox}),r.a.createElement("label",{htmlFor:"login_rememberMe"},"Remember me")),r.a.createElement("div",{className:be.a.formRow},r.a.createElement("button",{type:"submit",className:be.a.button},"Send")))})),je={login:function(e,t,n){return function(a){R.a.login(e,t,n).then((function(e){if(e.resultCode===G.a.success)a(B());else{var t=e.messages.length>0?e.messages[0]:"Some Error";a(Object(D.a)("login",{_error:t}))}}))}},logout:W},we=Object(P.b)((function(e){return{isAuth:e.auth.isAuth}}),je)((function(e){return e.isAuth?r.a.createElement(d.a,{to:"/profile"}):r.a.createElement("div",{className:pe.a.login},r.a.createElement("h1",null,"Login"),r.a.createElement("section",{className:pe.a.section},r.a.createElement(Ne,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})))})),ke=n(7),Se={initialized:!1},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(U.a)(Object(U.a)({},e),{},{initialized:!0});default:return e}},ye=n(47),Ce=r.a.lazy((function(){return n.e(4).then(n.bind(null,316))})),Te=r.a.lazy((function(){return n.e(3).then(n.bind(null,315))})),Ae=r.a.lazy((function(){return n.e(5).then(n.bind(null,317))})),xe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:f.a.app},r.a.createElement("main",{className:f.a.main},r.a.createElement("div",{className:f.a.sidebar},r.a.createElement(K,null)),r.a.createElement("div",{className:f.a.content},r.a.createElement("div",{className:f.a.contentMain},r.a.createElement(d.b,{path:"/login",render:function(){return r.a.createElement(we,null)}}),r.a.createElement(d.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(ye.a,null)},r.a.createElement(Te,null))}}),r.a.createElement(d.b,{path:"/dialogs",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(ye.a,null)},r.a.createElement(Ce,null))}}),r.a.createElement(d.b,{path:"/users",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement(ye.a,null)},r.a.createElement(Ae,null))}}),r.a.createElement(d.b,{path:"/news",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(d.b,{path:"/music",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(d.b,{path:"/friends",render:function(){return r.a.createElement(fe,null)}})),r.a.createElement("div",{className:f.a.footer},r.a.createElement(ae,null))))):r.a.createElement(ye.a,null)}}]),n}(r.a.Component),Fe=Object(ke.compose)(d.f,Object(P.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(B());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(xe),Ie=n(95),Me=n(127),Pe=n(128),Ue=n(148),Re=n(149),Ge=n(131),De=Object(ke.combineReducers)({profilePage:Ie.b,messagesPage:Me.b,usersPage:Pe.a,auth:J,form:Ge.a,app:Le}),ze=Object(ke.createStore)(De,Object(Ue.composeWithDevTools)(Object(ke.applyMiddleware)(Re.a))),He=ze;window.store=ze,i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A.a,null,r.a.createElement(P.a,{store:He},r.a.createElement(Fe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,t,n){e.exports={app:"App_app__15aYq",main:"App_main__1WBCe",sidebar:"App_sidebar__1PTcA",content:"App_content__22H2o",contentMain:"App_contentMain__3nWpB",footer:"App_footer__xx8AR"}},40:function(e,t,n){"use strict";var a;n.d(t,"a",(function(){return a})),function(e){e[e.success=0]="success",e[e.error=1]="error"}(a||(a={}))},41:function(e,t,n){e.exports={header:"Header_header__27fNW",title:"Header_title__3u1QD",loginBlock:"Header_loginBlock__3sTh4",loginLink:"Header_loginLink__3QBTQ",logout:"Header_logout__1uzyq"}},47:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(94),i=n.n(o),c=n(147),s=n.n(c);t.a=function(){return r.a.createElement("div",{className:i.a.wrapper},r.a.createElement("img",{src:s.a,className:i.a.img,alt:"loader"}))}},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},72:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(0),r=n.n(a),o=n(15),i=n.n(o),c=function(e){var t=e.meta.touched&&e.meta.error;return r.a.createElement("div",{className:i.a.formControl+" "+(t?i.a.error:"")},r.a.createElement("textarea",Object.assign({},e.input,{className:i.a.textarea})),t&&r.a.createElement("span",{className:i.a.errorMsg},e.meta.error))},s=function(e){var t=e.meta.touched&&e.meta.error;return r.a.createElement("div",{className:i.a.formControl+" "+(t?i.a.error:"")},r.a.createElement("input",Object.assign({},e.input,{className:i.a.inputText})),t&&r.a.createElement("span",{className:i.a.errorMsg},e.meta.error))},l=function(e){var t=e.meta.touched&&e.meta.error;return r.a.createElement("div",{className:i.a.formControl+" "+(t?i.a.error:"")},r.a.createElement("input",Object.assign({},e.input,{className:i.a.inputText,type:"password"})),t&&r.a.createElement("span",{className:i.a.errorMsg},e.meta.error))}},89:function(e,t,n){e.exports={copyright:"Footer_copyright__3r6OX"}},90:function(e,t,n){e.exports={socialLink:"SocialLink_socialLink__3f0XY"}},91:function(e,t,n){e.exports={section:"Login_section__1eSDU"}},94:function(e,t,n){e.exports={wrapper:"Preloader_wrapper__32AtM",img:"Preloader_img__31grf"}},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return d}));var a=n(39),r=n(5),o=n(19),i=n(17),c=n(40),s={posts:[{id:Object(o.a)(),message:"Hi World! How are you?",likesCounter:75},{id:Object(o.a)(),message:"Today is a good day!",likesCounter:57}],profile:{userId:1,lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",aboutMe:"",contacts:{github:"",vk:"",facebook:"",instagram:"",twitter:"",website:"",youtube:"",mainLink:""},photos:{small:"",large:""}},status:""},l=function(e){return{type:"ADD_POST",newPostBody:e}},u=function(e){return{type:"SET_STATUS",status:e}},m=function(e){return function(t){i.c.getUser(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},f=function(e){return function(t){i.c.getStatus(e).then((function(e){t(u(e.data)),console.log("getStatus:"+e.data)}))}},d=function(e){return function(t){i.c.updateStatus(e).then((function(n){n.data.resultCode===c.a.success&&t(u(e))}))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var n={id:Object(o.a)(),message:t.newPostBody,likesCounter:0};return Object(r.a)(Object(r.a)({},e),{},{posts:[n].concat(Object(a.a)(e.posts))});case"SET_USER_PROFILE":return Object(r.a)(Object(r.a)({},e),{},{profile:t.profile});case"SET_STATUS":return Object(r.a)(Object(r.a)({},e),{},{status:t.status});default:return e}}}},[[176,1,2]]]);
//# sourceMappingURL=main.36b147f0.chunk.js.map